# 微信小程序开发的坑
## 1.微信支付
### 坑： 
做微信支付的时候要注意，支付是否是虚拟支付,虚拟支付在ios中有限制因为ios需要抽百分之30微信不想被抽所以在ios端无法使用虚拟支付，也就是说只有安卓可以虚拟支付，ios想要虚拟支付的话只有小游戏还要向微信申请，
### 解决方案
1. 前端进行判断没有ios端
2. 把收费改为免费的
3. 通过技术绕过小程序审核(可能有被封的风险)
  
## 2.微信小程序消息推送
### 坑：
现在微信小程序的消息推送只能用订阅消息,首先你要先去微信公众平台申请一个订阅消息的模板，然后前端根据场合进行授权注意一次授权只能推送一次，也可以推送多次但是只有特定的类目可以进行多次的推送（大部分情况下只能推送一次）推送的时间是没有限制的

## 3. 页面更新
页面更新可以通过小程序的api 获取到对应的页面站 进行局部的更新

## 4. 全局 局部生命周期问题